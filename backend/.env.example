# ============================================
# Backend Service - Environment Variables
# ============================================
# Copy this file to .env in the backend directory
# These variables are specific to the FastAPI backend service

# ============================================
# Database Configuration
# ============================================
# SQLAlchemy connection string
# Format: postgresql+psycopg2://user:password@host:port/database
DATABASE_URL=postgresql+psycopg2://exam_user:change_me@postgres:5432/exam_platform

# ============================================
# Authentication & Security
# ============================================
# JWT secret key (use a strong, randomly generated value in production)
JWT_SECRET=change_me_super_secret

# JWT token expiration times
JWT_ACCESS_TTL_MIN=60
JWT_REFRESH_TTL_DAYS=30

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000

# ============================================
# Redis Configuration
# ============================================
# Redis connection URL for caching and session storage
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379

# ============================================
# Neo4j Configuration
# ============================================
# Neo4j Bolt connection URI
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=change_me
NEO4J_HTTP_PORT=7474
NEO4J_BOLT_PORT=7687

# ============================================
# Elasticsearch Configuration
# ============================================
# Elasticsearch HTTP endpoint
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300

# ============================================
# Application Settings
# ============================================
# Environment: dev, staging, prod, test
ENV=dev

# ============================================
# OAuth2/OIDC Configuration
# ============================================
# Google OAuth
OAUTH_GOOGLE_CLIENT_ID=change_me
OAUTH_GOOGLE_CLIENT_SECRET=change_me
OAUTH_GOOGLE_REDIRECT_URI=http://localhost:8000/v1/auth/oauth/google/callback

# Microsoft OAuth
OAUTH_MICROSOFT_CLIENT_ID=change_me
OAUTH_MICROSOFT_CLIENT_SECRET=change_me
OAUTH_MICROSOFT_REDIRECT_URI=http://localhost:8000/v1/auth/oauth/microsoft/callback
OAUTH_MICROSOFT_TENANT=common

# Allowed redirect URIs (comma-separated)
OAUTH_ALLOWED_REDIRECT_URIS=http://localhost:3000,http://localhost:8000

# ============================================
# Application Settings
# ============================================
# Environment: development, staging, production
ENV=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# Notes
# ============================================
# - When running in Docker, use service names (postgres, redis, etc.)
# - When running locally, use localhost instead of service names
# - Never commit actual .env files with real secrets

# ============================================
# Database Seeding
# ============================================
# Set to 'true' to skip automatic database seeding on startup
SKIP_SEED=false
